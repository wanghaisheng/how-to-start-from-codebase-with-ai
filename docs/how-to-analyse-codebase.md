好的，为了帮助新手快速理解本地代码库、掌握实现、开发新需求并避免协作问题，我们可以设计一系列针对不同场景和需求的提示词（Prompts）。这些提示词旨在引导大型语言模型（如 GPT-4）扮演一个经验丰富的导师或代码库专家。

核心思路是：**将大型、复杂的问题分解成一系列更小、更具体的问题，并为 LLM 提供足够的上下文信息。**

以下是一些提示词的设计原则和具体示例：

**设计原则：**

1.  **明确角色和目标：** 让 LLM 知道它应该扮演什么角色（例如：资深开发者、架构师、代码库专家）以及它的目标是什么（例如：帮助新手理解、指导开发、解释规范）。
2.  **提供上下文：** 清晰地描述项目的基本情况、技术栈、目标用户等。由于 LLM 无法直接访问本地文件，你需要**手动提供**关键信息，如：
    *   项目目的和核心功能。
    *   主要技术栈（语言、框架、库、数据库等）。
    *   顶层目录结构（可以简化描述）。
    *   你想了解或修改的具体模块/文件/函数名称。
    *   相关的代码片段（**注意：避免粘贴敏感信息**）。
    *   遇到的具体问题或错误信息。
3.  **指定受众：** 明确说明解释对象是“新手”或“初学者”，要求使用简单易懂的语言，避免过多术语或对复杂概念进行解释。
4.  **聚焦具体任务：** 每次提问尽量集中在一个具体问题上，例如“解释这个函数的作用”、“如何运行项目”、“这个模块的职责是什么”。
5.  **要求结构化输出：** 可以要求 LLM 以特定格式回答，例如使用列表、步骤、代码块、甚至 Mermaid 图（如果 LLM 支持）来解释流程或结构。
6.  **强调实践和协作：** 明确要求 LLM 解释代码风格、测试要求、版本控制流程、代码审查要点等协作规范。

**提示词模板和示例：**

**场景一：项目整体理解**

*   **提示词模板:**
    ```
    # 角色与目标
    你是一位经验丰富的软件工程师，擅长向新手解释复杂的代码库。我的目标是快速理解这个本地项目 [项目简称或类型，例如：一个在线购物网站的后端] 的整体结构和运行方式。

    # 项目上下文
    这个项目的主要功能是 [简述核心功能，例如：处理用户认证、商品管理、订单处理]。
    主要技术栈是 [列出关键技术，例如：Python + Django + PostgreSQL + Redis]。
    我已经将代码下载到本地。

    # 我的问题
    1.  请简要介绍这个项目的主要目的和核心业务流程。
    2.  请根据常规范例，推测并描述一下可能的顶层目录结构及其各自的作用（例如：`src`, `tests`, `docs`, `config` 等常见目录的作用）。
    3.  要让这个项目在本地运行起来，通常需要哪些步骤？（例如：安装依赖、配置数据库、数据迁移、启动服务）请列出通用步骤。
    4.  项目中最重要的几个模块或组件可能是什么？它们大概负责什么功能？

    # 输出要求
    请用清晰、简洁、对新手友好的语言回答。使用列表或分点说明。
    ```

**场景二：理解特定模块/文件/函数**

*   **提示词模板:**
    ```
    # 角色与目标
    你是一位熟悉 [项目技术栈，例如：Node.js + Express] 的开发者。我正在学习一个本地代码库，需要理解某个具体部分的实现。

    # 项目上下文
    项目是一个 [项目类型，例如：RESTful API 服务]。
    我正在查看文件 [文件路径，例如：`src/controllers/userController.js`] 中的函数 `[函数名，例如：registerUser]`。

    # 我提供的代码片段
    ```[语言，例如：javascript]
    // [在此处粘贴相关代码片段 - 注意去除敏感信息]
    async function registerUser(req, res) {
      // ... 函数实现 ...
    }
    ```

    # 我的问题
    1.  请解释这个函数 `registerUser` 的主要作用是什么？它接收什么输入，返回什么输出或执行什么副作用？
    2.  代码中使用了 [某个特定库/语法，例如：`async/await`]，请简单解释它在这里的作用。
    3.  这个函数可能与项目的哪些其他部分（例如：模型、服务、路由）进行交互？
    4.  如果要修改这个函数以 [描述一个简单的修改，例如：增加一个邮箱验证码检查]，我应该注意哪些地方？

    # 输出要求
    请用简单易懂的语言解释，并结合代码片段进行说明。对于修改建议，请指出关键的修改点。
    ```

**场景三：开发新功能**

*   **提示词模板:**
    ```
    # 角色与目标
    你是一位资深开发者，负责指导我为现有项目添加新功能。我是这个项目的新手。

    # 项目上下文
    项目是 [项目类型和技术栈]。
    当前项目的代码结构大致是 [简述结构，例如：MVC 结构，包含 models, views, controllers 目录]。
    代码风格倾向于 [简述风格，例如：遵循 PEP 8，使用函数式编程风格等]。

    # 新功能需求
    我需要实现一个新功能：[清晰描述新功能，例如：添加一个“用户反馈”表单，用户可以提交文本反馈，并存储到数据库中]。

    # 我的问题
    1.  根据这个项目的结构和技术栈，实现这个新功能，我大概需要在哪些文件或模块中进行修改或添加代码？（例如：可能需要创建新的模型、控制器、路由、视图/模板文件）
    2.  请提供一个大致的实现步骤或思路。
    3.  在实现这个功能时，我应该遵循哪些现有的代码风格或设计模式？（例如：数据验证应该放在哪里？业务逻辑应该放在服务层吗？）
    4.  是否有类似功能的现有代码可以作为参考？（如果知道可以指出，如果不知道可以请 LLM 推测）

    # 输出要求
    请提供清晰的步骤和建议。如果能提供简单的伪代码或代码结构示例会更好。强调需要遵守的规范。
    ```

**场景四：理解协作规范和最佳实践**

*   **提示词模板:**
    ```
    # 角色与目标
    你是一位注重代码质量和团队协作的 Tech Lead。我是一个刚加入团队的新人，需要了解这个项目的协作规范。

    # 项目上下文
    项目是 [项目类型和技术栈]。代码库已经存在，有多人协作开发。

    # 我的问题
    为了更好地融入团队并避免协作问题，请告诉我：
    1.  这个项目通常遵循哪些代码风格规范？（例如：是否有 linter 配置文件？命名约定？注释要求？）
    2.  项目的版本控制流程是怎样的？（例如：使用 Git Flow 吗？分支命名规则？提交信息格式？）
    3.  如何为代码编写单元测试或集成测试？项目中有测试框架吗？测试覆盖率有要求吗？
    4.  代码审查（Code Review）的流程和要点是什么？我应该关注哪些方面？
    5.  在添加新依赖或进行重大重构时，有什么需要特别注意的流程或约定吗？

    # 输出要求
    请提供实用的建议和清晰的规则描述。如果可能，引用通用的最佳实践并结合项目特点进行说明。
    ```

**场景五：调试和错误排查**

*   **提示词模板:**
    ```
    # 角色与目标
    你是一位经验丰富的调试专家，擅长定位和解决代码中的问题。

    # 项目上下文
    项目是 [项目类型和技术栈]。
    我正在尝试 [描述你正在做的事情，例如：运行单元测试 / 启动本地服务 / 调用某个 API 端点]。

    # 问题描述
    我遇到了以下错误：
    ```
    [在此处粘贴完整的错误信息和堆栈跟踪]
    ```
    相关的代码片段（我认为可能出错的地方）：
    ```[语言]
    // [粘贴可能相关的代码片段]
    ```

    # 我的问题
    1.  请分析这个错误信息，可能的原因是什么？
    2.  根据错误信息和代码片段，问题最可能出现在哪个部分？
    3.  我应该如何着手排查这个问题？（例如：添加日志、使用调试器、检查配置等）
    4.  有没有常见的陷阱或配置问题可能导致此类错误？

    # 输出要求
    请提供具体的分析和可操作的调试步骤。
    ```

**使用这些提示词的注意事项：**

*   **迭代式提问：** 不要期望一个提示词解决所有问题。根据 LLM 的回答，提出更深入、更具体的问题。
*   **提供反馈：** 如果 LLM 的回答不够好，告诉它哪里不对，并给出更正或补充信息。
*   **验证信息：** LLM 可能会“一本正经地胡说八道”（幻觉）。对于关键信息（如代码逻辑、配置步骤），务必结合实际代码和文档进行验证。
*   **隐私和安全：** **绝对不要**将包含密码、密钥、个人身份信息等敏感数据的代码片段粘贴给 LLM。在粘贴前进行脱敏处理。
*   **结合实际：** LLM 的回答是基于其训练数据和你的输入。最终的理解和实现需要你自己阅读代码、运行调试来确认。
*   **人类协作：** LLM 是强大的辅助工具，但不能完全替代与项目中有经验的同事交流。遇到困难时，及时向同事请教。

通过合理设计和使用这些提示词，可以极大地加速新手熟悉代码库的过程，提高开发效率，并帮助他们更好地融入团队协作。
